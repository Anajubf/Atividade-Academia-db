CREATE TABLE GRUPOS_MUSCULARES (
    GRUPO_ID INT PRIMARY KEY,
    NOME_GRUPO VARCHAR(100) NOT NULL
);

CREATE TABLE EXERCICIOS (
    EXERCICIO_ID INT PRIMARY KEY,
    NOME_EXERCICIO VARCHAR(100) NOT NULL,
    DESCRICAO VARCHAR(255),
    GRUPO_ID INT NOT NULL,
    CONSTRAINT FK_EXERCICIO_GRUPO
        FOREIGN KEY (GRUPO_ID) REFERENCES GRUPOS_MUSCULARES(GRUPO_ID)
);

CREATE TABLE TREINOS (
    TREINO_ID INT PRIMARY KEY,
    NOME_TREINO VARCHAR(100) NOT NULL,
    OBJETIVO VARCHAR(255)
);

CREATE TABLE TREINO_EXERCICIO (
    TREINO_ID INT NOT NULL,
    EXERCICIO_ID INT NOT NULL,
    SERIES INT,
    REPETICOES INT,
    PRIMARY KEY (TREINO_ID, EXERCICIO_ID),
    CONSTRAINT FK_TREINOEX_TREINO FOREIGN KEY (TREINO_ID) REFERENCES TREINOS(TREINO_ID),
    CONSTRAINT FK_TREINOEX_EXERCICIO FOREIGN KEY (EXERCICIO_ID) REFERENCES EXERCICIOS(EXERCICIO_ID)
);

INSERT INTO GRUPOS_MUSCULARES (GRUPO_ID, NOME_GRUPO)
VALUES 
(1, 'Peito'),
(2, 'Costas'),
(3, 'Pernas'),
(4, 'Bíceps'),
(5, 'Tríceps');


INSERT INTO EXERCICIOS (EXERCICIO_ID, NOME_EXERCICIO, DESCRICAO, GRUPO_ID)
VALUES
(1, 'Supino Reto', 'Exercicio clássico de peito com barra', 1),
(2, 'Puxada Frontal', 'Trabalha as costas e dorsais', 2),
(3, 'Agachamento Livre', 'Fortalece pernas e glúteos', 3),
(4, 'Rosca Direita', 'Exercicio para bíceps', 4),
(5, 'Tríceps Corda', 'Exercicio para triceps com polia', 5);

INSERT INTO TREINOS (TREINO_ID, NOME_TREINO, OBJETIVO)
VALUES
(1, 'Treino A', 'Foco em peito e tríceps'),
(2, 'Treino B', 'Foco em costas e bíceps'),
(3, 'Treino C', 'Foco em pernas');

INSERT INTO TREINO_EXERCICIO (TREINO_ID, EXERCICIO_ID, SERIES, REPETICOES)
VALUES
(1, 1, 4, 10),
(1, 5, 3, 12),
(2, 2, 4, 10),
(2, 4, 3, 12),
(3, 3, 5, 15);

SELECT
T.NOME_TREINO,
E.NOME_EXERCICIO,
G.NOME_GRUPO,
TE.SERIES,
TE.REPETICOES
FROM 
TREINO_EXERCICIO AS TE
INNER JOIN TREINOS AS T ON TE.TREINO_ID = T.TREINO_ID
INNER JOIN EXERCICIOS AS E ON TE.EXERCICIO_ID = E.EXERCICIO_ID
INNER JOIN GRUPOS_MUSCULARES AS G ON E.GRUPO_ID = G.GRUPO_ID;

/* Exercicio 1: Listando Exercicios e Seus Grupos */
SELECT 
E.NOME_EXERCICIO AS "Exercicio",
G.NOME_GRUPO AS "Grupo Muscular"
FROM 
EXERCIOS AS E 
INNER JOIN
GRUPOS_MUSCULARES AS G ON E.GRUPO_ID= G.GRUPO_ID;

/* Exercicio 2: Filtrando por Grupos Musculares */
SELECT
E.NOME_EXERCICIO AS "Exercicio",
G.NOME_GRUPO AS "Grupo Muscular"
FROM EXERCICIOS AS E 
INNER JOIN
GRUPOS_MUSCULARES AS G ON E.GRUPO_ID = G.GRUPO_ID
WHERE
G.NOME_GRUPO = 'Costas';

/* Exercicio 3: Mostrando a Ficha de Treino */
SELECT
T.NOME_TREINO AS "Treino",
E.NOME_EXERCICIO AS "Exercicio",
TE.SERIES AS "Series"
FROM
TREINO_EXERCICIO AS TE
INNER JOIN
TREINOS AS T ON TE.TREINO_ID = T.TREINO_ID
INNER JOIN
EXERCICIOS AS E ON TE.EXERCICIO_ID = E.EXERCICIO_ID
WHERE
T.NOME_TREINO = 'Treino A';

/* Exercicio 4: Verificando Todos os Exercicios */
SELECT
E.NOME_EXERCICIO AS "Exercicio",
T.NOME_TREINO AS "Treino"
FROM
EXERCICIOS AS E
LEFT JOIN
TREINO_EXERCICIO AS TE ON E.EXERCICIO_ID = TE.EXERCICIO_ID
LEFT JOIN
TREINOS AS T ON TE.TREINO_ID = T.TREINO_ID;

/* Exercicio 5: Descobrindo o Exercicio "Esquecido */
SELECT
E.NOME_EXERCICIO AS "Exercicio Não Atribuido"
FROM
EXERCICIOS AS E 
LEFT JOIN
TREINO_EXERCICIO AS TE ON E.EXERCICIO_ID = TE.EXERCICIO_ID
WHERE
TE.EXERCICIO_ID IS NULL;

/* Exercicio 6: A Ficha Completa do Aluno */
SELECT
E.NOME_EXERCICIO AS "Exercicio",
G.NOME_GRUPO AS "Grupo Muscular",
TE.SERIES AS "Series",
TE.REPETICOES AS "Repeticoes"
FROM
TREINO_EXERCICIO AS TE
INNER JOIN
EXERCICIOS AS E ON TE.EXERCICIO_ID = E.EXERCICIO_ID
INNER JOIN
GRUPOS_MUSCULARES AS G ON E.GRUPO_ID = G.GRUPO_ID